EF Code First

dotnet new webapi -n SampleBlog
dotnet add package Microsoft.EntityFrameworkCore.SqlServer
dotnet add package Microsoft.EntityFrameworkCore.Design
dotnet add package Microsoft.EntityFrameworkCore.Tools
dotnet add package Microsoft.AspNetCore.Mvc.NewtonsoftJson
dotnet add package Microsoft.EntityFrameworkCore.Proxies


Models
    Blog.cs
    Post.cs
    BlogContext.cs

資料庫結構 
Blog..1 -> Post..Many

dotnet ef migrations add init
dotnet ef database update  -v

使用 EF 建立 BlogController 與 ValuesController(範例可刪除)
建立測試資料
SELECT * FROM Blogs
SELECT * FROM Posts

INSERT INTO Blogs(Url,Rating)Values('www.itlife1.com','90')
INSERT INTO Blogs(Url,Rating)Values('www.itlife2.com','80')
INSERT INTO Blogs(Url,Rating)Values('www.itlife3.com','50')

INSERT INTO Posts(Title,Content,BlogId)Values('How to Sport','Sport',1)
INSERT INTO Posts(Title,Content,BlogId)Values('How to open Bank Account','Stock',1)
INSERT INTO Posts(Title,Content,BlogId)Values('RunRunRun','Music',2)
INSERT INTO Posts(Title,Content,BlogId)Values('GoGOGO','Music',2)


C
    POST https://Localhost:5001/api/Blogs
    {
        "url": "www.itlife4.com",
        "rating": 21
    }

    {
        "url": "www.itlife6.com",
        "rating": 2200,
        "posts": [
            {
                "title": "How to Sport",
                "content": "Sport",
            },
            {
                "title": "How to open Bank Account",
                "content": "Stock",
            }
        ]
    }
U
    PUT https://Localhost:5001/api/Blogs/4
    {
        "blogId": 4,
        "url": "www.itlife3.com",
        "rating": 100
    }
    PUT https://Localhost:5001/api/Blogs/4
    {
        "blogId": 4,
        "url": "www.itlife3.com",
        "rating": 1,
        "posts": [
            {
                "title": "How to SportAAA",
                "content": "SportAAA",
                "blogId": 4
            },
            {
                "title": "How to open Bank AccountBBB",
                "content": "StockBBB",
                "blogId": 4
            }
        ]
    }

R
    GET https://Localhost:5001/api/Blogs
    GET https://Localhost:5001/api/Blogs/1
D
    DELETE https://Localhost:5001/api/Blogs/1